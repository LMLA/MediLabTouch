{
    "id": "ExtBox1-ext-gen14333",
    "type": "controller",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "designer|userClassName": "TestsByDisease"
    },
    "customConfigs": [],
    "designerId": "568657af-6c81-48b9-84ec-2ba0f360ab50",
    "$viewOrder": 7,
    "expanded": true,
    "cn": [
        {
            "id": "ExtBox1-ext-gen38982",
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "testsbydisease",
                "selector": "#testsbydisease",
                "designer|userClassName": "Reference8"
            },
            "customConfigs": [],
            "expanded": true
        },
        {
            "id": "ExtBox1-ext-gen39589",
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onSelectfieldChange",
                "implHandler": [
                    "",
                    "// Set and get the stores needed for the process",
                    "diseaseStore=Ext.getStore('diseaseStore');",
                    "testStore=Ext.getStore('testStore');",
                    "",
                    "// Get the picked index in the view",
                    "idx = diseaseStore.findBy(function (record) {",
                    "    return record.data.id == newValue;",
                    "});",
                    "",
                    "//Clear all filters on the testStore",
                    "diseaseStore.clearFilter(true);",
                    "",
                    "// Gets the specialty name",
                    "name=diseaseStore.getAt(idx).data.name;",
                    "console.log(\"-------------------------------------------\");",
                    "console.log(\"Disease Selected:\", name);",
                    "",
                    "// Filters the Test store to get only the records mached with the Disease selected.",
                    "// Use the function for each record in the store and return only records needed",
                    "testStore.clearFilter(true);",
                    "testStore.filter(function (record) {",
                    "",
                    "    var arr = record.data.disease, continuar = false;",
                    "    console.log(\"Test Name:\", record.data.name);",
                    "    for(var i=0; i<arr.length; i++) {",
                    "        console.log(\" >> Tests Disease:\", arr[i].name);",
                    "        if (arr[i].name == name) {",
                    "            continuar = true;",
                    "        }",
                    "    }",
                    "    return continuar;",
                    "}",
                    "",
                    ");",
                    ""
                ],
                "name": "change",
                "designer|targetType": "Ext.field.Select",
                "designer|controlQuery": "testsbydisease [name=diseasePicker]",
                "designer|userClassName": "onSelectfieldChange"
            },
            "customConfigs": [],
            "expanded": true
        },
        {
            "id": "ExtBox1-ext-gen69558",
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onListItemTap",
                "implHandler": [
                    "console.log(\"The Test Detail item tap:\", record.data.name );",
                    "",
                    "dataview.up('physiciannavview').push({",
                    "        xtype : 'testdetail',",
                    "        title : 'Test Detail',",
                    "        data: record.getData()",
                    "});",
                    ""
                ],
                "name": "itemtap",
                "designer|targetType": "Ext.dataview.List",
                "designer|controlQuery": "testsbydisease [name=TestsByDiseaseList]",
                "designer|userClassName": "onListItemTap"
            },
            "customConfigs": [],
            "expanded": true
        }
    ]
}